<!DOCTYPE HTML>
<html>
<head>

<!-- Latest compiled and minified bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

<!-- Latest compiled and minified jqeury -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<!-- Latest compiled and minified bootstrap js -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<!-- Latest sortable library -->
<script src="http://rubaxa.github.io/Sortable/Sortable.js"></script>

<!-- Latest d3 library -->
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<!-- My styles -->
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="resource-icon.css">

<!-- heat-designer scripts -->
<script src="yaml.js"></script>
<script src="heat-designer.js"></script>
<script src="heat-visualize.js"></script>

</head>


<body onload="init_app()" style ='background-color: #222222; padding: 0 0 0 0;'>
<textarea style="display:none;" id="sample_yaml">#
# This is a hello world HOT template just defining a single compute
# server.
#
heat_template_version: 2013-05-23

description: >
  Hello world HOT template that just defines a single server.
  Contains just base features to verify base HOT support.
parameters:
  key_name:
    type: string
    description: Name of an existing key pair to use for the server
    constraints:
      - custom_constraint: nova.keypair
  flavor:
    type: string
    description: Flavor for the server to be created
    default: m1.small
    constraints:
      - custom_constraint: nova.flavor
  image:
    type: string
    description: Image ID or image name to use for the server
    constraints:
      - custom_constraint: glance.image
  admin_pass:
    type: string
    description: Admin password
    hidden: true
    constraints:
      - length: { min: 6, max: 8 }
        description: Password length must be between 6 and 8 characters
      - allowed_pattern: "[a-zA-Z0-9]+"
        description: Password must consist of characters and numbers only
      - allowed_pattern: "[A-Z]+[a-zA-Z0-9]*"
        description: Password must start with an uppercase character
  db_port:
    type: number
    description: Database port number
    default: 50000
    constraints:
      - range: { min: 40000, max: 60000 }
        description: Port number must be between 40000 and 60000

resources:
  private_net:
    type: OS::Neutron::Net
    properties:
      name: { get_param: private_net_name }
  cinder_volume:
    type: OS::Cinder::Volume
    properties:
      size: { get_param: volume_size }
      availability_zone: { get_param: availability_zone }
      volume_type: { get_resource: cinder_encryption_vol_type }
  server:
    type: OS::Nova::Server
    properties:
      key_name: { get_param: key_name }
      image: { get_param: image }
      flavor: { get_param: flavor }
      admin_pass: { get_param: admin_pass }
      user_data:
        str_replace:
          template: |
            #!/bin/bash
            echo db_port
          params:
            db_port: { get_param: db_port }

outputs:
  server_networks:
    description: The networks of the deployed server
    value: { get_attr: [server, networks] }</textarea>
<nav class="navbar navbar-inverse" role="navigation"></nav>
<div class="container-fluid" >
	<div class="row" style="overflow: hidden; ">
		<div class="col-md-3" style ='background-color: #444444;margin-bottom: -99999px; padding-bottom: 99999px;'>
			<nav class="navbar navbar-inverse" role="navigation" style ='color: #cccccc'> <h4>Toolbox</h4></nav>
			<div class="panel-group" id="accordion">
			  <div class="panel panel-default">
				<div class="panel-heading">
				  <h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#collapse1">
					Parameters</a>
				  </h4>
				</div>
				<div id="collapse1" class="panel-collapse collapse">
				  <div class="panel-body">-no parameters available-</div>
				</div>
			  </div>
			  <div class="panel panel-default">
				<div class="panel-heading">
				  <h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#collapse2">
					Resources</a>
				  </h4>
				</div>
				<div id="collapse2" class="panel-collapse collapse in">
				  <div id="resource-tools" class="panel-body">
								
				</div>
				</div>
			  </div>
			  <div class="panel panel-default">
				<div class="panel-heading">
				  <h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#collapse3">
					Outputs</a>
				  </h4>
				</div>
				<div id="collapse3" class="panel-collapse collapse">
				  <div class="panel-body">-no outputs available-</div>
				</div>
			  </div>
			</div>

		</div>
		<div class="col-md-6" style ='background-color: #222222;'>
			<nav class="navbar navbar-inverse" role="navigation" style ='color: #cccccc'>
					<h4>Your Stack <div class="btn-group btn pull-right">
				 
				<button class="btn btn-default" type="button">
					Describe
				</button> 
				<button class="btn btn-default" type="button">
					Monitor
				</button></div> </h4>
				
				</nav>
			<div class="pre-scrollable" id="stack_graphical" ondrop="drop(event)" ondragover="allowDrop(event)" style="height:80vh; background: url('http://i.stack.imgur.com/GySvQ.png')">
			</div>
			<div id="stack-d3vis" style ='background-color: #eeeeee;'></div>
			
		</div>
			
		<div class="col-md-3" style ='background-color: #444444;margin-bottom: -99999px; padding-bottom: 99999px;'>
			<nav class="navbar navbar-inverse" role="navigation" style ='color: #cccccc'>
			<h4>
					YAML Template
				</h4></nav>
			<textarea disabled class="form-control" rows="20" style="min-width: 100%; height: 100%;" id="stack_yaml" style ='color: #cccccc'>
				
			</textarea>
		</div>
	</div>
</div>
<div id="popover-content" class="hide list-group">
  <a href="#" class="list-group-item list-group-item-danger delete_button">Delete</a>
  <a href="#" class="list-group-item edit_properties_button" data-toggle="modal" data-target="#edit_properties">Edit Properties</a>
</div>
<div id="resource-icon-sample" class="hide column" resource-type="volume" type="button" data-html="true" id="icon-node" draggable="true" ondragstart="drag(event)">
<header></header>
</div>
<!-- Modal -->
  <div class="modal fade" id="edit_properties" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 id="node_name_in_modal" class="modal-title">-node-</h4>
        </div>
        <div class="modal-body">
          <textarea id="node_properties_editable" rows="10" cols="60">-properties-</textarea>
        </div>
        <div class="modal-footer">
			<button type="button" onclick = "saveProperties()" class="btn btn-primary" data-dismiss="modal">Save</button>
			<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>